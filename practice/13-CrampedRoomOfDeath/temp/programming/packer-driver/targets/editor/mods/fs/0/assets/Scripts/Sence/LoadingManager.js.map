{"version":3,"sources":["file:///Users/lindanian/projects/git/cocos-creator-projects/practice/13-CrampedRoomOfDeath/assets/Scripts/Sence/LoadingManager.ts"],"names":["_decorator","Component","director","resources","ProgressBar","FadeManager","SCENE_ENUM","ccclass","property","LoadingManager","onLoad","preloadDir","current","total","bar","progress","Instance","fader","fadeIn","loadScene","Battle"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;;AACpDC,MAAAA,W;;AACCC,MAAAA,U,iBAAAA,U;;;;;;;OAEF;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;gCAGjBS,c,WADZF,OAAO,CAAC,gBAAD,C,UAEHC,QAAQ,CAACJ,WAAD,C,oCAFb,MACaK,cADb,SACoCR,SADpC,CAC8C;AAAA;AAAA;;AAAA;AAAA;;AAI1CS,QAAAA,MAAM,GAAE;AACJP,UAAAA,SAAS,CAACQ,UAAV,CAAqB,SAArB,EAAgC,CAACC,OAAD,EAAUC,KAAV,KAAkB;AAC9C,iBAAKC,GAAL,CAASC,QAAT,GAAoBH,OAAO,GAAGC,KAA9B;AACH,WAFD,EAEG,YAAU;AACT;AACA,kBAAM;AAAA;AAAA,4CAAYG,QAAZ,CAAqBC,KAArB,CAA2BC,MAA3B,CAAkC,GAAlC,CAAN;AACAhB,YAAAA,QAAQ,CAACiB,SAAT,CAAmB;AAAA;AAAA,0CAAWC,MAA9B;AACH,WAND;AAOH;;AAZyC,O;;;;;iBAEvB,I","sourcesContent":["import { _decorator, Component, Node, director, resources, ProgressBar } from 'cc';\nimport FadeManager from \"db://assets/Runtime/FadeManager\";\nimport {SCENE_ENUM} from \"db://assets/Enums\";\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('LoadingManager')\nexport class LoadingManager extends Component {\n    @property(ProgressBar)\n    bar: ProgressBar = null\n\n    onLoad(){\n        resources.preloadDir(\"texture\", (current, total)=>{\n            this.bar.progress = current / total;\n        }, async ()=>{\n            //成功回调\n            await FadeManager.Instance.fader.fadeIn(300);\n            director.loadScene(SCENE_ENUM.Battle);\n        });\n    }\n}\n\n"]}