{"version":3,"sources":["file:///Users/lindanian/projects/git/cocos-creator-projects/practice/13-CrampedRoomOfDeath/assets/Scripts/Tile/TileManager.ts"],"names":["_decorator","Component","Sprite","UITransform","TILE_TYPE_ENUM","ccclass","property","TILE_WIDTH","TILE_HEIGHT","TileManager","init","type","spriteFrame","i","j","WALL_ROW","WALL_COLUMN","WALL_LEFT_TOP","WALL_RIGHT_TOP","WALL_LEFT_BOTTOM","WALL_RIGHT_BOTTOM","moveable","turnable","CLIFF_LEFT","CLIFF_RIGHT","CLIFF_CENTER","FLOOR","sprite","addComponent","transform","getComponent","setContentSize","node","setPosition"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAgCC,MAAAA,W,OAAAA,W;;AAG9DC,MAAAA,c,iBAAAA,c;;;;;;;OAFF;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;4BAIjBO,U,GAAa,E;;6BACbC,W,GAAc,E;;6BAGdC,W,WADZJ,OAAO,CAAC,aAAD,C,yBAAR,MACaI,WADb,SACiCR,SADjC,CAC2C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAI7B,cAAJS,IAAI,CAAEC,IAAF,EAAwBC,WAAxB,EAAkDC,CAAlD,EAA4DC,CAA5D,EAAsE;AAC5E,eAAKH,IAAL,GAAYA,IAAZ,CAD4E,CAE5E;;AACA,cACI,KAAKA,IAAL,KAAc;AAAA;AAAA,gDAAeI,QAA7B,IACA,KAAKJ,IAAL,KAAc;AAAA;AAAA,gDAAeK,WAD7B,IAEA,KAAKL,IAAL,KAAc;AAAA;AAAA,gDAAeM,aAF7B,IAGA,KAAKN,IAAL,KAAc;AAAA;AAAA,gDAAeO,cAH7B,IAIA,KAAKP,IAAL,KAAc;AAAA;AAAA,gDAAeQ,gBAJ7B,IAKA,KAAKR,IAAL,KAAc;AAAA;AAAA,gDAAeS,iBANjC,EAOC;AACG,iBAAKC,QAAL,GAAgB,KAAhB;AACA,iBAAKC,QAAL,GAAgB,KAAhB;AACH,WAVD,MAUM,IACF,KAAKX,IAAL,KAAc;AAAA;AAAA,gDAAeY,UAA7B,IACA,KAAKZ,IAAL,KAAc;AAAA;AAAA,gDAAea,WAD7B,IAEA,KAAKb,IAAL,KAAc;AAAA;AAAA,gDAAec,YAH3B,EAIL;AACG;AACA,iBAAKJ,QAAL,GAAgB,KAAhB;AACA,iBAAKC,QAAL,GAAgB,IAAhB;AACH,WARK,MAQA,IACF,KAAKX,IAAL,KAAc;AAAA;AAAA,gDAAee,KAD3B,EAEL;AACG;AACA,iBAAKL,QAAL,GAAgB,IAAhB;AACA,iBAAKC,QAAL,GAAgB,IAAhB;AACH;;AAED,gBAAMK,MAAM,GAAG,KAAKC,YAAL,CAAkB1B,MAAlB,CAAf;AACAyB,UAAAA,MAAM,CAACf,WAAP,GAAqBA,WAArB;AACA,gBAAMiB,SAAS,GAAG,KAAKC,YAAL,CAAkB3B,WAAlB,CAAlB;AACA0B,UAAAA,SAAS,CAACE,cAAV,CAAyBxB,UAAzB,EAAqCC,WAArC;AACA,eAAKwB,IAAL,CAAUC,WAAV,CAAsBpB,CAAC,GAAGN,UAA1B,EAAsC,CAACO,CAAD,GAAKN,WAA3C;AACH;;AAtCsC,O","sourcesContent":["import { _decorator, Component, Node, Sprite, resources, SpriteFrame, UITransform, Layers } from 'cc';\nconst { ccclass, property } = _decorator;\nimport Levels from \"db://assets/Levels\";\nimport {TILE_TYPE_ENUM} from \"db://assets/Enums\";\n\nexport const TILE_WIDTH = 55;\nexport const TILE_HEIGHT = 55;\n\n@ccclass('TileManager')\nexport class TileManager extends Component {\n    type: TILE_TYPE_ENUM\n    moveable: boolean\n    turnable: boolean\n    async init (type: TILE_TYPE_ENUM, spriteFrame: SpriteFrame, i:number, j:number) {\n        this.type = type;\n        //墙壁\n        if(\n            this.type === TILE_TYPE_ENUM.WALL_ROW ||\n            this.type === TILE_TYPE_ENUM.WALL_COLUMN ||\n            this.type === TILE_TYPE_ENUM.WALL_LEFT_TOP ||\n            this.type === TILE_TYPE_ENUM.WALL_RIGHT_TOP ||\n            this.type === TILE_TYPE_ENUM.WALL_LEFT_BOTTOM ||\n            this.type === TILE_TYPE_ENUM.WALL_RIGHT_BOTTOM\n        ){\n            this.moveable = false;\n            this.turnable = false;\n        }else if(\n            this.type === TILE_TYPE_ENUM.CLIFF_LEFT ||\n            this.type === TILE_TYPE_ENUM.CLIFF_RIGHT ||\n            this.type === TILE_TYPE_ENUM.CLIFF_CENTER\n        ){\n            //悬崖\n            this.moveable = false;\n            this.turnable = true;\n        }else if(\n            this.type === TILE_TYPE_ENUM.FLOOR\n        ){\n            //地板\n            this.moveable = true;\n            this.turnable = true;\n        }\n\n        const sprite = this.addComponent(Sprite);\n        sprite.spriteFrame = spriteFrame;\n        const transform = this.getComponent(UITransform);\n        transform.setContentSize(TILE_WIDTH, TILE_HEIGHT);\n        this.node.setPosition(i * TILE_WIDTH, -j * TILE_HEIGHT);\n    }\n}\n\n"]}