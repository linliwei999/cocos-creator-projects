{"version":3,"sources":["file:///Users/lindanian/projects/git/cocos-creator-projects/practice/13-CrampedRoomOfDeath/assets/Runtime/FadeManager.ts"],"names":["FadeManager","RenderRoot2D","game","Singleton","DEFAULT_DURATION","DrawManager","createUINode","Instance","GetInstance","fader","_fader","root","addComponent","fadeNode","setParent","init","addPersistRootNode","fadeIn","duration","fadeOut"],"mappings":";;;0GAKqBA,W;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHZC,MAAAA,Y,OAAAA,Y;AAAcC,MAAAA,I,OAAAA,I;;AAFhBC,MAAAA,S;;AACCC,MAAAA,gB,iBAAAA,gB;AAAkBC,MAAAA,W,iBAAAA,W;;AAElBC,MAAAA,Y,iBAAAA,Y;;;;;;;yBAEaN,W,GAAN,MAAMA,WAAN;AAAA;AAAA,kCAAmC;AAAA;AAAA;;AAAA,0CAIhB,IAJgB;AAAA;;AAC3B,mBAARO,QAAQ,GAAE;AACjB,iBAAO,MAAMC,WAAN,EAAP;AACH;;AAGQ,YAALC,KAAK,GAAE;AACP,cAAG,KAAKC,MAAR,EAAe;AACX,mBAAO,KAAKA,MAAZ;AACH;;AAED,gBAAMC,IAAI,GAAG;AAAA;AAAA,6CAAb;AACAA,UAAAA,IAAI,CAACC,YAAL,CAAkBX,YAAlB;AAEA,gBAAMY,QAAQ,GAAG;AAAA;AAAA,6CAAjB;AACAA,UAAAA,QAAQ,CAACC,SAAT,CAAmBH,IAAnB;AACA,eAAKD,MAAL,GAAcG,QAAQ,CAACD,YAAT;AAAA;AAAA,yCAAd;;AACA,eAAKF,MAAL,CAAYK,IAAZ,GAXO,CAYP;;;AACAb,UAAAA,IAAI,CAACc,kBAAL,CAAwBL,IAAxB;AACA,iBAAO,KAAKD,MAAZ;AACH;;AAEDO,QAAAA,MAAM,CAACC,QAAgB;AAAA;AAAA,gDAAjB,EAAqC;AACvC,iBAAO,KAAKT,KAAL,CAAWQ,MAAX,CAAkBC,QAAlB,CAAP;AACH;;AAEDC,QAAAA,OAAO,CAACD,QAAgB;AAAA;AAAA,gDAAjB,EAAqC;AACxC,iBAAO,KAAKT,KAAL,CAAWU,OAAX,CAAmBD,QAAnB,CAAP;AACH;;AA7B6C,O","sourcesContent":["import Singleton from \"db://assets/Base/Singleton\";\nimport {DEFAULT_DURATION, DrawManager} from \"db://assets/Scripts/UI/DrawManager\";\nimport { RenderRoot2D, game } from \"cc\";\nimport {createUINode} from \"db://assets/Utils\";\n\nexport default class FadeManager extends Singleton{\n    static get Instance(){\n        return super.GetInstance<FadeManager>()\n    }\n    private _fader: DrawManager = null;\n\n    get fader(){\n        if(this._fader){\n            return this._fader;\n        }\n\n        const root = createUINode();\n        root.addComponent(RenderRoot2D);\n\n        const fadeNode = createUINode();\n        fadeNode.setParent(root);\n        this._fader = fadeNode.addComponent(DrawManager);\n        this._fader.init();\n        //常驻组件\n        game.addPersistRootNode(root);\n        return this._fader;\n    }\n\n    fadeIn(duration: number = DEFAULT_DURATION){\n        return this.fader.fadeIn(duration);\n    }\n\n    fadeOut(duration: number = DEFAULT_DURATION){\n        return this.fader.fadeOut(duration);\n    }\n}\n"]}