{"version":3,"sources":["file:///Users/lindanian/projects/git/cocos-creator-projects/practice/13-CrampedRoomOfDeath/assets/Scripts/Tile/TileManager.ts"],"names":["_decorator","Component","Sprite","UITransform","TILE_TYPE_ENUM","ccclass","property","TILE_WIDTH","TILE_HEIGHT","TileManager","init","type","spriteFrame","i","j","WALL_ROW","WALL_COLUMN","WALL_LEFT_TOP","WALL_RIGHT_TOP","WALL_LEFT_BOTTOM","WALL_RIGHT_BOTTOM","moveable","turnable","CLIFF_LEFT","CLIFF_RIGHT","CLIFF_CENTER","FLOOR","sprite","addComponent","transform","getComponent","setContentSize","node","setPosition"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAgCC,MAAAA,W,OAAAA,W;;AAG9DC,MAAAA,c,iBAAAA,c;;;;;;;OAFF;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;4BAIjBO,U,GAAa,E;;6BACbC,W,GAAc,E;;6BAGdC,W,WADZJ,OAAO,CAAC,aAAD,C,yBAAR,MACaI,WADb,SACiCR,SADjC,CAC2C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAIjCS,QAAAA,IAAI,CAAEC,IAAF,EAAwBC,WAAxB,EAAkDC,CAAlD,EAA4DC,CAA5D,EAAsE;AAAA;;AAAA;AAC5E,YAAA,KAAI,CAACH,IAAL,GAAYA,IAAZ,CAD4E,CAE5E;;AACA,gBACI,KAAI,CAACA,IAAL,KAAc;AAAA;AAAA,kDAAeI,QAA7B,IACA,KAAI,CAACJ,IAAL,KAAc;AAAA;AAAA,kDAAeK,WAD7B,IAEA,KAAI,CAACL,IAAL,KAAc;AAAA;AAAA,kDAAeM,aAF7B,IAGA,KAAI,CAACN,IAAL,KAAc;AAAA;AAAA,kDAAeO,cAH7B,IAIA,KAAI,CAACP,IAAL,KAAc;AAAA;AAAA,kDAAeQ,gBAJ7B,IAKA,KAAI,CAACR,IAAL,KAAc;AAAA;AAAA,kDAAeS,iBANjC,EAOC;AACG,cAAA,KAAI,CAACC,QAAL,GAAgB,KAAhB;AACA,cAAA,KAAI,CAACC,QAAL,GAAgB,KAAhB;AACH,aAVD,MAUM,IACF,KAAI,CAACX,IAAL,KAAc;AAAA;AAAA,kDAAeY,UAA7B,IACA,KAAI,CAACZ,IAAL,KAAc;AAAA;AAAA,kDAAea,WAD7B,IAEA,KAAI,CAACb,IAAL,KAAc;AAAA;AAAA,kDAAec,YAH3B,EAIL;AACG;AACA,cAAA,KAAI,CAACJ,QAAL,GAAgB,KAAhB;AACA,cAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACH,aARK,MAQA,IACF,KAAI,CAACX,IAAL,KAAc;AAAA;AAAA,kDAAee,KAD3B,EAEL;AACG;AACA,cAAA,KAAI,CAACL,QAAL,GAAgB,IAAhB;AACA,cAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACH;;AAED,gBAAMK,MAAM,GAAG,KAAI,CAACC,YAAL,CAAkB1B,MAAlB,CAAf;;AACAyB,YAAAA,MAAM,CAACf,WAAP,GAAqBA,WAArB;;AACA,gBAAMiB,SAAS,GAAG,KAAI,CAACC,YAAL,CAAkB3B,WAAlB,CAAlB;;AACA0B,YAAAA,SAAS,CAACE,cAAV,CAAyBxB,UAAzB,EAAqCC,WAArC;;AACA,YAAA,KAAI,CAACwB,IAAL,CAAUC,WAAV,CAAsBpB,CAAC,GAAGN,UAA1B,EAAsC,CAACO,CAAD,GAAKN,WAA3C;AAjC4E;AAkC/E;;AAtCsC,O","sourcesContent":["import { _decorator, Component, Node, Sprite, resources, SpriteFrame, UITransform, Layers } from 'cc';\nconst { ccclass, property } = _decorator;\nimport Levels from \"db://assets/Levels\";\nimport {TILE_TYPE_ENUM} from \"db://assets/Enums\";\n\nexport const TILE_WIDTH = 55;\nexport const TILE_HEIGHT = 55;\n\n@ccclass('TileManager')\nexport class TileManager extends Component {\n    type: TILE_TYPE_ENUM\n    moveable: boolean\n    turnable: boolean\n    async init (type: TILE_TYPE_ENUM, spriteFrame: SpriteFrame, i:number, j:number) {\n        this.type = type;\n        //墙壁\n        if(\n            this.type === TILE_TYPE_ENUM.WALL_ROW ||\n            this.type === TILE_TYPE_ENUM.WALL_COLUMN ||\n            this.type === TILE_TYPE_ENUM.WALL_LEFT_TOP ||\n            this.type === TILE_TYPE_ENUM.WALL_RIGHT_TOP ||\n            this.type === TILE_TYPE_ENUM.WALL_LEFT_BOTTOM ||\n            this.type === TILE_TYPE_ENUM.WALL_RIGHT_BOTTOM\n        ){\n            this.moveable = false;\n            this.turnable = false;\n        }else if(\n            this.type === TILE_TYPE_ENUM.CLIFF_LEFT ||\n            this.type === TILE_TYPE_ENUM.CLIFF_RIGHT ||\n            this.type === TILE_TYPE_ENUM.CLIFF_CENTER\n        ){\n            //悬崖\n            this.moveable = false;\n            this.turnable = true;\n        }else if(\n            this.type === TILE_TYPE_ENUM.FLOOR\n        ){\n            //地板\n            this.moveable = true;\n            this.turnable = true;\n        }\n\n        const sprite = this.addComponent(Sprite);\n        sprite.spriteFrame = spriteFrame;\n        const transform = this.getComponent(UITransform);\n        transform.setContentSize(TILE_WIDTH, TILE_HEIGHT);\n        this.node.setPosition(i * TILE_WIDTH, -j * TILE_HEIGHT);\n    }\n}\n\n"]}