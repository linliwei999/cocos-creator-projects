{"version":3,"sources":["file:///Users/lindanian/projects/git/cocos-creator-projects/practice/13-CrampedRoomOfDeath/assets/Scripts/Player/test/AttackSubStateMachine.ts"],"names":["AttackSubStateMachine","AnimationClip","DirectionSubStateMachine","DIRECTION_ENUM","SHAKE_TYPE_ENUM","State","ANIMATION_SPEED","BASE_URL","constructor","fsm","stateMachines","set","TOP","WrapMode","Normal","frame","func","params","BOTTOM","LEFT","RIGHT"],"mappings":";;;gIAQqBA,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJZC,MAAAA,a,OAAAA,a;;AAJFC,MAAAA,wB;;AAEEC,MAAAA,c,iBAAAA,c;AAAgBC,MAAAA,e,iBAAAA,e;;AAClBC,MAAAA,K;AAASC,MAAAA,e,iBAAAA,e;;;;;;;AAGVC,MAAAA,Q,GAAW,uB;;yBAEIP,qB,GAAN,MAAMA,qBAAN;AAAA;AAAA,gEAA6D;AAC1EQ,QAAAA,WAAW,CAACC,GAAD,EAAoB;AAC7B,gBAAMA,GAAN;AACA,eAAKC,aAAL,CAAmBC,GAAnB,CACE;AAAA;AAAA,gDAAeC,GADjB,EAEE;AAAA;AAAA,8BAAUH,GAAV,EAAkBF,QAAlB,WAAkCN,aAAa,CAACY,QAAd,CAAuBC,MAAzD;AAAA;AAAA,kDAAkF,CAChF;AACEC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CAD3B;AAC8B;AAC5BC,YAAAA,IAAI,EAAE,eAFR;AAEyB;AACvBC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBL,GAAjB;AAHV,WADgF,CAAlF,CAFF;AAUA,eAAKF,aAAL,CAAmBC,GAAnB,CACE;AAAA;AAAA,gDAAeO,MADjB,EAEE;AAAA;AAAA,8BAAUT,GAAV,EAAkBF,QAAlB,cAAqCN,aAAa,CAACY,QAAd,CAAuBC,MAA5D;AAAA;AAAA,kDAAqF,CACnF;AACEC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CAD3B;AAEEC,YAAAA,IAAI,EAAE,eAFR;AAGEC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBC,MAAjB;AAHV,WADmF,CAArF,CAFF;AAUA,eAAKR,aAAL,CAAmBC,GAAnB,CACE;AAAA;AAAA,gDAAeQ,IADjB,EAEE;AAAA;AAAA,8BAAUV,GAAV,EAAkBF,QAAlB,YAAmCN,aAAa,CAACY,QAAd,CAAuBC,MAA1D;AAAA;AAAA,kDAAmF,CACjF;AACEC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CAD3B;AAEEC,YAAAA,IAAI,EAAE,eAFR;AAEyB;AACvBC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBE,IAAjB;AAHV,WADiF,CAAnF,CAFF;AAUA,eAAKT,aAAL,CAAmBC,GAAnB,CACE;AAAA;AAAA,gDAAeS,KADjB,EAEE;AAAA;AAAA,8BAAUX,GAAV,EAAkBF,QAAlB,aAAoCN,aAAa,CAACY,QAAd,CAAuBC,MAA3D;AAAA;AAAA,kDAAoF,CAClF;AACEC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CAD3B;AAEEC,YAAAA,IAAI,EAAE,eAFR;AAGEC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBG,KAAjB;AAHV,WADkF,CAApF,CAFF;AAUD;;AA3CyE,O","sourcesContent":["import DirectionSubStateMachine from '../../Base/DirectionSubStateMachine'\nimport StateMachine from '../../Base/StateMachine'\nimport { DIRECTION_ENUM, SHAKE_TYPE_ENUM } from '../../Enum'\nimport State, { ANIMATION_SPEED } from '../../Base/State'\nimport { AnimationClip } from 'cc'\n\nconst BASE_URL = 'texture/player/attack'\n\nexport default class AttackSubStateMachine extends DirectionSubStateMachine {\n  constructor(fsm: StateMachine) {\n    super(fsm)\n    this.stateMachines.set(\n      DIRECTION_ENUM.TOP,\n      new State(fsm, `${BASE_URL}/top`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [\n        {\n          frame: ANIMATION_SPEED * 4, // 第 四帧时触发事件\n          func: 'onAttackShake', // 事件触发时调用的函数名称\n          params: [SHAKE_TYPE_ENUM.TOP],\n        },\n      ]),\n    )\n    this.stateMachines.set(\n      DIRECTION_ENUM.BOTTOM,\n      new State(fsm, `${BASE_URL}/bottom`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [\n        {\n          frame: ANIMATION_SPEED * 4,\n          func: 'onAttackShake',\n          params: [SHAKE_TYPE_ENUM.BOTTOM],\n        },\n      ]),\n    )\n    this.stateMachines.set(\n      DIRECTION_ENUM.LEFT,\n      new State(fsm, `${BASE_URL}/left`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [\n        {\n          frame: ANIMATION_SPEED * 4,\n          func: 'onAttackShake', // 事件触发时调用的函数名称\n          params: [SHAKE_TYPE_ENUM.LEFT],\n        },\n      ]),\n    )\n    this.stateMachines.set(\n      DIRECTION_ENUM.RIGHT,\n      new State(fsm, `${BASE_URL}/right`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [\n        {\n          frame: ANIMATION_SPEED * 4,\n          func: 'onAttackShake',\n          params: [SHAKE_TYPE_ENUM.RIGHT],\n        },\n      ]),\n    )\n  }\n}\n"]}